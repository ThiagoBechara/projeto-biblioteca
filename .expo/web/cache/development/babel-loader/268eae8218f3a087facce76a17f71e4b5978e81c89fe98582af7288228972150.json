{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport React, { Component } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport * as Permissions from \"expo-permissions\";\nimport { BarCodeScanner } from \"expo-barcode-scanner\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar TransactionScreen = function (_Component) {\n  _inherits(TransactionScreen, _Component);\n  var _super = _createSuper(TransactionScreen);\n  function TransactionScreen(props) {\n    var _this;\n    _classCallCheck(this, TransactionScreen);\n    _this = _super.call(this, props);\n    _this.getCameraPermissions = function _callee(domState) {\n      var _await$Permissions$as, status;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(Permissions.askAsync(Permissions.CAMERA));\n          case 2:\n            _await$Permissions$as = _context.sent;\n            status = _await$Permissions$as.status;\n            _this.setState({\n              hasCameraPermissions: status === \"granted\",\n              domState: domState,\n              scanned: false\n            });\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }, null, null, null, Promise);\n    };\n    _this.handleBarCodeScanned = function _callee2(_ref) {\n      var type, data;\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            type = _ref.type, data = _ref.data;\n            _this.setState({\n              scannedData: data,\n              domState: \"normal\",\n              scanned: true\n            });\n          case 2:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, null, null, null, Promise);\n    };\n    _this.state = {\n      domState: \"normal\",\n      hasCameraPermissions: null,\n      scanned: false,\n      scannedData: \"\"\n    };\n    return _this;\n  }\n  _createClass(TransactionScreen, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var _this$state = this.state,\n        domState = _this$state.domState,\n        hasCameraPermissions = _this$state.hasCameraPermissions,\n        scannedData = _this$state.scannedData,\n        scanned = _this$state.scanned;\n      if (domState === \"scanner\") {\n        return _jsx(BarCodeScanner, {\n          onBarCodeScanned: scanned ? undefined : this.handleBarCodeScanned,\n          style: StyleSheet.absoluteFillObject\n        });\n      }\n      return _jsxs(View, {\n        style: styles.container,\n        children: [_jsx(Text, {\n          style: styles.text,\n          children: hasCameraPermissions ? scannedData : \"Solicitar permissão da Camera\"\n        }), _jsx(TouchableOpacity, {\n          style: styles.botao,\n          onPress: function onPress() {\n            return _this2.getCameraPermissions(\"scanner\");\n          },\n          children: _jsx(Text, {\n            style: styles.texto,\n            children: \"bot\\xE3o de c\\xE2mera\"\n          })\n        })]\n      });\n    }\n  }]);\n  return TransactionScreen;\n}(Component);\nexport { TransactionScreen as default };\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    backgroundColor: \"#5653D4\"\n  },\n  text: {\n    color: \"#ffff\",\n    fontSize: 30\n  },\n  botao: {\n    width: \"15%\",\n    height: 60,\n    backgroundColor: \"white\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    borderRadius: 8\n  },\n  texto: {\n    color: \"#F48D20\",\n    fontWeight: \"bold\",\n    fontSize: 20\n  }\n});","map":{"version":3,"names":["React","Component","View","Text","StyleSheet","TouchableOpacity","Permissions","BarCodeScanner","jsx","_jsx","jsxs","_jsxs","TransactionScreen","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","getCameraPermissions","_callee","domState","_await$Permissions$as","status","_regeneratorRuntime","async","_callee$","_context","prev","next","awrap","askAsync","CAMERA","sent","setState","hasCameraPermissions","scanned","stop","Promise","handleBarCodeScanned","_callee2","_ref","type","data","_callee2$","_context2","scannedData","state","_createClass","key","value","render","_this2","_this$state","onBarCodeScanned","undefined","style","absoluteFillObject","styles","container","children","text","botao","onPress","texto","default","create","flex","justifyContent","alignItems","backgroundColor","color","fontSize","width","height","borderRadius","fontWeight"],"sources":["/workspaces/projeto-biblioteca/screens/Transaction.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { View, Text, StyleSheet, TouchableOpacity } from \"react-native\";\nimport * as Permissions from \"expo-permissions\";\nimport { BarCodeScanner } from \"expo-barcode-scanner\";\n\nexport default class TransactionScreen extends Component {\n  constructor(props) { \n    super(props); \n    this.state = { \n    domState: \"normal\", \n    hasCameraPermissions: null, \n    scanned: false, \n    scannedData: \"\" \n  }; \n}\ngetCameraPermissions = async domState => { \n  const { status } = await Permissions.askAsync(Permissions.CAMERA); \n  this.setState({ \n    /*status === \"granted\" é verdadeiro se o usuário concedeu permissão \n    status === \"granted\" é falso se o usuário não concedeu permissão */ \n    hasCameraPermissions: status === \"granted\", \n    domState: domState, \n    scanned: false \n  });\n };\n handleBarCodeScanned = async ({ \n  type, data }) => { \n    this.setState({ \n      scannedData: data, \n      domState: \"normal\", \n      scanned: true \n    }); \n  };\n  render() {\n    const { \n      domState, \n      hasCameraPermissions, \n      scannedData, \n      scanned } = this.state; \n      if (domState === \"scanner\") { \n        return ( \n        <BarCodeScanner onBarCodeScanned={scanned ? undefined : this.handleBarCodeScanned} \n        style={StyleSheet.absoluteFillObject} />\n         ); \n        }\n    return (\n      <View style={styles.container}>\n        <Text style={styles.text}>{hasCameraPermissions ? scannedData : \"Solicitar permissão da Camera\"}</Text>\n        <TouchableOpacity style={styles.botao}  \n        onPress={() => this.getCameraPermissions(\"scanner\")}>\n          <Text style={styles.texto}>botão de câmera</Text>\n        </TouchableOpacity>\n      </View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    backgroundColor: \"#5653D4\"\n  },\n  text: {\n    color: \"#ffff\",\n    fontSize: 30\n  },\n  botao: {\n    width: \"15%\", \n    height: 60,\n    backgroundColor: \"white\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    borderRadius: 8\n  },\n  texto: {\n    color: \"#F48D20\",\n    fontWeight: \"bold\",\n    fontSize: 20\n  } \n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}